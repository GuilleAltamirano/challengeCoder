<link rel="stylesheet" type="text/css" href="/css/index.css">
{{> nav}}
<div class="user-info">
    <h1>Welcome {{dataUser.name}}</h1>
</div>

<div class="container">
    <h2 class="titles">Products</h2>
    
    <div class="products-container">
        {{#each payload}}
            <div class="product">
                <img class="thumbnails" alt="Imagen del producto" src="{{thumbnails}}">
                <h2>{{title}}</h2>
                <p class="description">{{description}}</p>
                <p class="price">Precio: ${{price}}</p>
                <p class="stock">Stock:{{stock}}</p>
                <div class="container-button">
                    <button id="increment-{{_id}}">+</button>
                    <p class="count" id="count-{{_id}}" max="{{stock}}">1</p>
                    <button id="decrement-{{_id}}">-</button>
                </div>
                <button class="add-to-cart" _id="{{_id}}">AÃ±adir al carrito</button>
            </div>
        {{/each}}
    </div>
    <div class="pagination-container">
        <a href="/">Start</a>
        {{#if hasPrevPage}}
            <a class="pagination prev" href="{{prevLink}}"> < </a>
        {{/if}}
        {{#each arrayPage}}
            <a href="?page={{this}}">{{this}}</a>
        {{/each}}
        {{#if hasNextPage}}
            <a class="pagination next" href="{{nextLink}}"> > </a>
        {{/if}}
        <a href="/?page={{totalPages}}">End</a>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script type="module" src="/js/index.js"></script>